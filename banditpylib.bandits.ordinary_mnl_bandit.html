

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>banditpylib.bandits.ordinary_mnl_bandit module &mdash; banditpylib 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> banditpylib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">banditpylib</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">banditpylib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>banditpylib.bandits.ordinary_mnl_bandit module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/banditpylib.bandits.ordinary_mnl_bandit.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-banditpylib.bandits.ordinary_mnl_bandit">
<span id="banditpylib-bandits-ordinary-mnl-bandit-module"></span><h1>banditpylib.bandits.ordinary_mnl_bandit module<a class="headerlink" href="#module-banditpylib.bandits.ordinary_mnl_bandit" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.search">
<code class="sig-prename descclassname">banditpylib.bandits.ordinary_mnl_bandit.</code><code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">assortments</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Set<span class="p">[</span>int<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">product_num</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">next_product_id</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">assortment</span><span class="p">:</span> <span class="n">Set<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">card_limit</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">restricted_products</span><span class="p">:</span> <span class="n">Set<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all assortments satisfying cardinality limit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>assortments</strong> – all eligible assortments found so far</p></li>
<li><p><strong>product_num</strong> – total number of products</p></li>
<li><p><strong>next_product_id</strong> – next product to consider</p></li>
<li><p><strong>assortment</strong> – current assortment</p></li>
<li><p><strong>card_limit</strong> – cardinality limit</p></li>
<li><p><strong>restricted_products</strong> – products can only be selected from this restricted set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward">
<em class="property">class </em><code class="sig-prename descclassname">banditpylib.bandits.ordinary_mnl_bandit.</code><code class="sig-name descname">Reward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#Reward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General reward class</p>
<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#Reward.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – alias name</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward.name" title="Permalink to this definition">¶</a></dt>
<dd><p>reward name</p>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward.calc">
<em class="property">abstract </em><code class="sig-name descname">calc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">assortment</span><span class="p">:</span> <span class="n">Set<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#Reward.calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward.calc" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>assortment</strong> – assortment to calculate</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reward of the assortment</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward.preference_params">
<em class="property">property </em><code class="sig-name descname">preference_params</code><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward.preference_params" title="Permalink to this definition">¶</a></dt>
<dd><p>preference parameters (product 0 is included)</p>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward.revenues">
<em class="property">property </em><code class="sig-name descname">revenues</code><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward.revenues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward.set_preference_params">
<code class="sig-name descname">set_preference_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">preference_params</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#Reward.set_preference_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward.set_preference_params" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>preference_params</strong> – preference parameters of products</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.Reward.set_revenues">
<code class="sig-name descname">set_revenues</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">revenues</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#Reward.set_revenues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward.set_revenues" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>revenues</strong> – revenues of products</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.MeanReward">
<em class="property">class </em><code class="sig-prename descclassname">banditpylib.bandits.ordinary_mnl_bandit.</code><code class="sig-name descname">MeanReward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#MeanReward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.MeanReward" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward" title="banditpylib.bandits.ordinary_mnl_bandit.Reward"><code class="xref py py-class docutils literal notranslate"><span class="pre">banditpylib.bandits.ordinary_mnl_bandit.Reward</span></code></a></p>
<p>Mean reward</p>
<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.MeanReward.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#MeanReward.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.MeanReward.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – alias name</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.MeanReward.calc">
<code class="sig-name descname">calc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">assortment</span><span class="p">:</span> <span class="n">Set<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#MeanReward.calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.MeanReward.calc" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>assortment</strong> – assortment to calculate</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reward of the assortment</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.CvarReward">
<em class="property">class </em><code class="sig-prename descclassname">banditpylib.bandits.ordinary_mnl_bandit.</code><code class="sig-name descname">CvarReward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">alpha</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#CvarReward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.CvarReward" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward" title="banditpylib.bandits.ordinary_mnl_bandit.Reward"><code class="xref py py-class docutils literal notranslate"><span class="pre">banditpylib.bandits.ordinary_mnl_bandit.Reward</span></code></a></p>
<p>CVaR reward</p>
<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.CvarReward.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">alpha</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#CvarReward.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.CvarReward.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alpha</strong> – percentile of cvar</p></li>
<li><p><strong>name</strong> – alias name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.CvarReward.alpha">
<em class="property">property </em><code class="sig-name descname">alpha</code><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.CvarReward.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>percentile of cvar</p>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.CvarReward.calc">
<code class="sig-name descname">calc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">assortment</span><span class="p">:</span> <span class="n">Set<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#CvarReward.calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.CvarReward.calc" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>assortment</strong> – assortment to calculate</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reward of the assortment</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.search_best_assortment">
<code class="sig-prename descclassname">banditpylib.bandits.ordinary_mnl_bandit.</code><code class="sig-name descname">search_best_assortment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reward</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward" title="banditpylib.bandits.ordinary_mnl_bandit.Reward">banditpylib.bandits.ordinary_mnl_bandit.Reward</a></span></em>, <em class="sig-param"><span class="n">card_limit</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">inf</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>float<span class="p">, </span>Set<span class="p">[</span>int<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#search_best_assortment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.search_best_assortment" title="Permalink to this definition">¶</a></dt>
<dd><p>Search assortment with the maximum reward</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reward</strong> – reward definition</p></li>
<li><p><strong>card_limit</strong> – cardinality constraint</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>assortment with the maximum reward</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.local_search_best_assortment">
<code class="sig-prename descclassname">banditpylib.bandits.ordinary_mnl_bandit.</code><code class="sig-name descname">local_search_best_assortment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reward</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward" title="banditpylib.bandits.ordinary_mnl_bandit.Reward">banditpylib.bandits.ordinary_mnl_bandit.Reward</a></span></em>, <em class="sig-param"><span class="n">random_neighbors</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">card_limit</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">init_assortment</span><span class="p">:</span> <span class="n">Set<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>float<span class="p">, </span>Set<span class="p">[</span>int<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#local_search_best_assortment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.local_search_best_assortment" title="Permalink to this definition">¶</a></dt>
<dd><p>Local search assortment with the maximum reward</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method does not guarantee to output the best assortment.</p>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Implement this function with <cite>cppyy</cite>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reward</strong> – reward definition</p></li>
<li><p><strong>random_neighbors</strong> – number of random neighbors to look up</p></li>
<li><p><strong>card_limit</strong> – cardinality constraint</p></li>
<li><p><strong>init_assortment</strong> – initial assortment to start</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>local best assortment with its reward</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit">
<em class="property">class </em><code class="sig-prename descclassname">banditpylib.bandits.ordinary_mnl_bandit.</code><code class="sig-name descname">OrdinaryMNLBandit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">preference_params</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">revenues</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">card_limit</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">reward</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward" title="banditpylib.bandits.ordinary_mnl_bandit.Reward">banditpylib.bandits.ordinary_mnl_bandit.Reward</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zero_best_reward</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="banditpylib.bandits.utils.html#banditpylib.bandits.utils.Bandit" title="banditpylib.bandits.utils.Bandit"><code class="xref py py-class docutils literal notranslate"><span class="pre">banditpylib.bandits.utils.Bandit</span></code></a></p>
<p>Ordinary MNL bandit</p>
<p>There are a total of <span class="math notranslate nohighlight">\(N\)</span> products, where products are numbered from 1 by
default. During each time step <span class="math notranslate nohighlight">\(t\)</span>, when an assortment <span class="math notranslate nohighlight">\(S_t\)</span> which
is a subset of products is served, the online customer will make a choice
i.e., whether to buy a product or purchase nothing. The choice is modeled by</p>
<div class="math notranslate nohighlight">
\[\mathbb{P}(c_t = i) = \frac{v_i}{\sum_{i \in S_t \cup \{0\} } v_i}\]</div>
<p>where 0 is reserved for non-purchase and <span class="math notranslate nohighlight">\(v_0 = 1\)</span>. It is also assumed
that preference parameters are within the range <span class="math notranslate nohighlight">\([0, 1]\)</span>.</p>
<p>Suppose the rewards are <span class="math notranslate nohighlight">\((r_0, \dots, r_N)\)</span>, where <span class="math notranslate nohighlight">\(r_0\)</span> is always
0. Let <span class="math notranslate nohighlight">\(F(S)\)</span> be the cumulative function of the rewards when <span class="math notranslate nohighlight">\(S\)</span>
is served. Let <span class="math notranslate nohighlight">\(U\)</span> be a quasiconvex function denoting the reward the
learner wants to maximize. The regret is defined as</p>
<div class="math notranslate nohighlight">
\[T U(F(S^*)) - \sum_{t = 1}^T U(F(S_t))\]</div>
<p>where <span class="math notranslate nohighlight">\(S^*\)</span> is the optimal assortment.</p>
<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">preference_params</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">revenues</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">card_limit</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">reward</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#banditpylib.bandits.ordinary_mnl_bandit.Reward" title="banditpylib.bandits.ordinary_mnl_bandit.Reward">banditpylib.bandits.ordinary_mnl_bandit.Reward</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zero_best_reward</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>preference_params</strong> – preference parameters (product 0 should be included)</p></li>
<li><p><strong>revenue</strong> – revenue of products (product 0 should be included)</p></li>
<li><p><strong>card_limit</strong> – cardinality constraint of an assortment meaning the total
number of products provided at a time is no greater than this number</p></li>
<li><p><strong>reward</strong> – reward the learner wants to maximize. The default goal is mean of
rewards</p></li>
<li><p><strong>zero_best_reward</strong> – whether to set the reward of the best assortment to 0.
This is useful when data is too large to compute the best assortment.
When best reward is set to zero, the regret equals to the minus total
revenue.</p></li>
<li><p><strong>name</strong> – alias name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.feed">
<code class="sig-name descname">feed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">actions</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Tuple<span class="p">[</span>Set<span class="p">[</span>int<span class="p">]</span><span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>Tuple<span class="p">[</span>numpy.ndarray<span class="p">, </span>List<span class="p">[</span>int<span class="p">]</span><span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve multiple assortments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>actions</strong> – for each tuple, the first dimension is the assortment to serve
and the second dimension is the number of serving times</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>feedback by taking <cite>actions</cite>. For each tuple, the first dimension is</dt><dd><p>the stochatic rewards, and the second dimension is the choices of the
customer.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the bandit environment</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function should be called before the start of the game.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.context">
<code class="sig-name descname">context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.context" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>current state of the ordinary mnl bandit</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.revenues">
<code class="sig-name descname">revenues</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.revenues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.revenues" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>revenues of products (product 0 is included, which is always 0.0)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.product_num">
<code class="sig-name descname">product_num</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.product_num"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.product_num" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of products (not including product 0)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.card_limit">
<code class="sig-name descname">card_limit</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.card_limit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.card_limit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>cardinality limit</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.regret">
<code class="sig-name descname">regret</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/banditpylib/bandits/ordinary_mnl_bandit.html#OrdinaryMNLBandit.regret"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#banditpylib.bandits.ordinary_mnl_bandit.OrdinaryMNLBandit.regret" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>regret compared with the optimal policy</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Chester Holtz, Chao Tao

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>